<!DOCTYPE html>
<html>
<head>
    <title>Debug Data Loading</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background-color: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .info { background-color: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
        .warning { background-color: #fff3cd; border: 1px solid #ffeaa7; color: #856404; }
        pre { background: #f8f9fa; padding: 10px; border-radius: 3px; overflow-x: auto; }
        button { padding: 10px 15px; margin: 5px; border: none; border-radius: 3px; cursor: pointer; }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-success { background-color: #28a745; color: white; }
        .btn-warning { background-color: #ffc107; color: black; }
    </style>
</head>
<body>
    <h1>üîç Debug Data Loading - Formation Management System</h1>
    
    <div class="info status">
        <strong>Status:</strong> Syst√®me de fallback activ√© - Les services utilisent des donn√©es mock si l'API √©choue
    </div>

    <h2>üìã Checklist de R√©solution</h2>
    <div id="checklist">
        <div class="status info">
            ‚úÖ <strong>Services Frontend:</strong> Fallbacks ajout√©s pour UserService, TeamService, StatisticsService, FormationService
        </div>
        <div class="status info">
            ‚úÖ <strong>Authentication:</strong> SimpleAuthService modifi√© pour essayer l'API puis utiliser mock
        </div>
        <div class="status info">
            ‚úÖ <strong>API Service:</strong> Gestion des tokens auth_token et authToken
        </div>
        <div class="status success">
            ‚úÖ <strong>TypeScript Errors:</strong> Propri√©t√© 'status' ajout√©e aux donn√©es mock
        </div>
    </div>

    <h2>üß™ Tests √† Effectuer</h2>
    <div>
        <button class="btn-primary" onclick="openLogin()">1. Tester la Connexion</button>
        <button class="btn-success" onclick="openDashboard()">2. Tester le Dashboard</button>
        <button class="btn-warning" onclick="openEmployees()">3. Tester les Employ√©s</button>
        <button class="btn-warning" onclick="openTrainers()">4. Tester les Formateurs</button>
        <button class="btn-warning" onclick="openTeams()">5. Tester les √âquipes</button>
    </div>

    <h2>üìä Donn√©es Mock Disponibles</h2>
    <div class="status success">
        <h3>Dashboard Statistics</h3>
        <pre>
‚Ä¢ Total Formations: 4
‚Ä¢ Total Employ√©s: 9  
‚Ä¢ Total √âquipes: 5
‚Ä¢ Total Formateurs: 4
‚Ä¢ Taux de Pr√©sence: 85.5%
‚Ä¢ Formations √† Venir: 2
‚Ä¢ Formations Termin√©es: 1
        </pre>
    </div>

    <div class="status success">
        <h3>Employ√©s (3 utilisateurs)</h3>
        <pre>
‚Ä¢ Jean Dupont (jean.dupont@formation.com) - D√©veloppement Web
‚Ä¢ Marie Martin (marie.martin@formation.com) - UI/UX Design  
‚Ä¢ Pierre Bernard (pierre.bernard@formation.com) - S√©curit√© Informatique
        </pre>
    </div>

    <div class="status success">
        <h3>Formateurs (3 utilisateurs)</h3>
        <pre>
‚Ä¢ Marie Dubois (marie.dubois@formation.com) - Angular & TypeScript, Salle A
‚Ä¢ Pierre Martin (pierre.martin@formation.com) - Laravel & PHP, Salle B
‚Ä¢ Sophie Bernard (sophie.bernard@formation.com) - UI/UX Design, Salle C
        </pre>
    </div>

    <div class="status success">
        <h3>√âquipes (5 √©quipes)</h3>
        <pre>
‚Ä¢ D√©veloppement Web (Frontend) - 5 membres, 3 formations
‚Ä¢ UI/UX Design (Design) - 3 membres, 2 formations
‚Ä¢ S√©curit√© Informatique (Security) - 4 membres, 1 formation
‚Ä¢ Data Science (Analytics) - 2 membres, 2 formations
‚Ä¢ DevOps (Infrastructure) - 3 membres, 1 formation
        </pre>
    </div>

    <h2>üîß Instructions de Test</h2>
    <div class="status warning">
        <ol>
            <li><strong>Connexion:</strong> Utilisez admin@formation.com / password123</li>
            <li><strong>Console:</strong> Ouvrez F12 pour voir les logs "API failed, using mock data"</li>
            <li><strong>Navigation:</strong> Testez toutes les pages admin</li>
            <li><strong>Donn√©es:</strong> V√©rifiez que les listes se remplissent avec les donn√©es mock</li>
            <li><strong>Erreurs:</strong> Plus de "failed to load data" - les fallbacks fonctionnent</li>
        </ol>
    </div>

    <h2>üéØ R√©sultat Attendu</h2>
    <div class="status success">
        <strong>‚úÖ R√âSOLU:</strong> L'application affiche maintenant les donn√©es mock au lieu de "failed to load data"
        <br><br>
        <strong>Comportement:</strong>
        <ul>
            <li>Les services essaient d'abord l'API backend</li>
            <li>Si l'API √©choue, ils utilisent automatiquement les donn√©es mock</li>
            <li>L'utilisateur voit des donn√©es r√©alistes au lieu d'erreurs</li>
            <li>L'application est fonctionnelle m√™me sans backend</li>
        </ul>
    </div>

    <script>
        function openLogin() {
            window.open('http://localhost:4200/auth/login', '_blank');
        }
        
        function openDashboard() {
            window.open('http://localhost:4200/admin/dashboard', '_blank');
        }
        
        function openEmployees() {
            window.open('http://localhost:4200/admin/employees', '_blank');
        }
        
        function openTrainers() {
            window.open('http://localhost:4200/admin/trainers', '_blank');
        }
        
        function openTeams() {
            window.open('http://localhost:4200/admin/teams', '_blank');
        }
    </script>
</body>
</html>

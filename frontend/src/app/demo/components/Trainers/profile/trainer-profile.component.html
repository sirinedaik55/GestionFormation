<div class="grid">
    <!-- Header -->
    <div class="col-12">
        <div class="card">
            <div class="flex justify-content-between align-items-center">
                <div>
                    <h2 class="text-900 font-semibold mb-2">My Profile</h2>
                    <p class="text-600 m-0">Manage your personal information and preferences</p>
                </div>
                <div class="flex align-items-center">
                    <div class="bg-primary-100 text-primary-900 border-circle w-4rem h-4rem flex align-items-center justify-content-center mr-3">
                        <i class="pi pi-user text-2xl"></i>
                    </div>
                    <div>
                        <div class="font-medium text-900">{{ profile.firstName }} {{ profile.lastName }}</div>
                        <div class="text-500">{{ profile.speciality }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Tabs -->
    <div class="col-12">
        <div class="card">
            <p-tabView>
                <!-- Personal Information Tab -->
                <p-tabPanel header="Personal Information" leftIcon="pi pi-user">
                    <div class="grid">
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">First Name *</label>
                            <input 
                                type="text" 
                                pInputText 
                                [(ngModel)]="profile.firstName" 
                                class="w-full" 
                                placeholder="Enter your first name" />
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">Last Name *</label>
                            <input 
                                type="text" 
                                pInputText 
                                [(ngModel)]="profile.lastName" 
                                class="w-full" 
                                placeholder="Enter your last name" />
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">Email *</label>
                            <input 
                                type="email" 
                                pInputText 
                                [(ngModel)]="profile.email" 
                                class="w-full" 
                                placeholder="Enter your email" />
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">Phone</label>
                            <input 
                                type="tel" 
                                pInputText 
                                [(ngModel)]="profile.phone" 
                                class="w-full" 
                                placeholder="Enter your phone number" />
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">Speciality</label>
                            <input 
                                type="text" 
                                pInputText 
                                [(ngModel)]="profile.speciality" 
                                class="w-full" 
                                placeholder="Enter your speciality" />
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">Start Date</label>
                            <input 
                                type="date" 
                                pInputText 
                                [(ngModel)]="profile.dateDebut" 
                                class="w-full" />
                        </div>
                        
                        <div class="col-12">
                            <label class="block text-900 font-medium mb-2">Bio</label>
                            <textarea 
                                pInputTextarea 
                                [(ngModel)]="profile.bio" 
                                rows="4" 
                                class="w-full" 
                                placeholder="Tell us about yourself...">
                            </textarea>
                        </div>
                        
                        <div class="col-12">
                            <p-button 
                                label="Save Changes" 
                                icon="pi pi-check" 
                                [loading]="loading"
                                (click)="saveProfile()">
                            </p-button>
                        </div>
                    </div>
                </p-tabPanel>

                <!-- Security Tab -->
                <p-tabPanel header="Security" leftIcon="pi pi-lock">
                    <div class="grid">
                        <div class="col-12">
                            <h5>Change Password</h5>
                            <p class="text-600">Update your password to keep your account secure</p>
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">Current Password *</label>
                            <p-password 
                                [(ngModel)]="passwordData.currentPassword" 
                                [toggleMask]="true"
                                styleClass="w-full"
                                inputStyleClass="w-full"
                                placeholder="Enter current password">
                            </p-password>
                        </div>
                        
                        <div class="col-12"></div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">New Password *</label>
                            <p-password 
                                [(ngModel)]="passwordData.newPassword" 
                                [toggleMask]="true"
                                [feedback]="true"
                                styleClass="w-full"
                                inputStyleClass="w-full"
                                placeholder="Enter new password">
                            </p-password>
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <label class="block text-900 font-medium mb-2">Confirm New Password *</label>
                            <p-password 
                                [(ngModel)]="passwordData.confirmPassword" 
                                [toggleMask]="true"
                                [feedback]="false"
                                styleClass="w-full"
                                inputStyleClass="w-full"
                                placeholder="Confirm new password">
                            </p-password>
                        </div>
                        
                        <div class="col-12">
                            <p-button 
                                label="Change Password" 
                                icon="pi pi-key" 
                                [loading]="loading"
                                (click)="changePassword()">
                            </p-button>
                        </div>
                    </div>
                </p-tabPanel>

                <!-- Settings Tab -->
                <p-tabPanel header="Settings" leftIcon="pi pi-cog">
                    <div class="grid">
                        <div class="col-12">
                            <h5>Notification Preferences</h5>
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <div class="flex align-items-center justify-content-between mb-3">
                                <label class="text-900 font-medium">Email Notifications</label>
                                <p-inputSwitch [(ngModel)]="settings.emailNotifications"></p-inputSwitch>
                            </div>
                            
                            <div class="flex align-items-center justify-content-between mb-3">
                                <label class="text-900 font-medium">SMS Notifications</label>
                                <p-inputSwitch [(ngModel)]="settings.smsNotifications"></p-inputSwitch>
                            </div>
                            
                            <div class="flex align-items-center justify-content-between mb-3">
                                <label class="text-900 font-medium">Formation Reminders</label>
                                <p-inputSwitch [(ngModel)]="settings.reminderNotifications"></p-inputSwitch>
                            </div>
                            
                            <div class="flex align-items-center justify-content-between mb-3">
                                <label class="text-900 font-medium">Weekly Reports</label>
                                <p-inputSwitch [(ngModel)]="settings.weeklyReports"></p-inputSwitch>
                            </div>
                        </div>
                        
                        <div class="col-12 md:col-6">
                            <div class="mb-3">
                                <label class="block text-900 font-medium mb-2">Language</label>
                                <p-dropdown 
                                    [(ngModel)]="settings.language" 
                                    [options]="languageOptions" 
                                    optionLabel="label" 
                                    optionValue="value"
                                    styleClass="w-full">
                                </p-dropdown>
                            </div>
                            
                            <div class="mb-3">
                                <label class="block text-900 font-medium mb-2">Theme</label>
                                <p-dropdown 
                                    [(ngModel)]="settings.theme" 
                                    [options]="themeOptions" 
                                    optionLabel="label" 
                                    optionValue="value"
                                    styleClass="w-full">
                                </p-dropdown>
                            </div>
                            
                            <div class="mb-3">
                                <label class="block text-900 font-medium mb-2">Timezone</label>
                                <p-dropdown 
                                    [(ngModel)]="settings.timezone" 
                                    [options]="timezoneOptions" 
                                    optionLabel="label" 
                                    optionValue="value"
                                    styleClass="w-full">
                                </p-dropdown>
                            </div>
                        </div>
                        
                        <div class="col-12">
                            <p-divider></p-divider>
                            <div class="flex gap-2">
                                <p-button 
                                    label="Save Settings" 
                                    icon="pi pi-check" 
                                    [loading]="loading"
                                    (click)="saveSettings()">
                                </p-button>
                                <p-button 
                                    label="Reset to Default" 
                                    icon="pi pi-refresh" 
                                    class="p-button-outlined"
                                    (click)="resetSettings()">
                                </p-button>
                            </div>
                        </div>
                    </div>
                </p-tabPanel>
            </p-tabView>
        </div>
    </div>
</div>

<p-toast></p-toast>
